<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERMINAL | PRO SYSTEM</title>
    <style>
        :root { --neon: #39ff14; --bg: #050505; }
        body { background: var(--bg); color: #fff; font-family: 'Courier New', monospace; text-align: center; margin: 0; transition: 0.5s; }
        
        .system-container { 
            border: 2px solid var(--neon); 
            box-shadow: 0 0 25px var(--neon); 
            padding: 30px; margin: 50px auto; width: 85%; max-width: 480px; border-radius: 20px; 
            background: rgba(0,0,0,0.95);
        }

        /* PRO OWNER STYLE */
        .pro-owner { --neon: #00d2ff !important; border-style: double !important; border-width: 4px !important; }
        .owner-text { color: #00d2ff; text-shadow: 0 0 15px #00d2ff; font-size: 24px; font-weight: bold; }

        input { 
            width: 85%; padding: 15px; margin: 15px 0; background: #000; 
            border: 1px solid var(--neon); color: #fff; border-radius: 8px; outline: none; font-size: 16px;
        }

        .action-btn { 
            background: transparent; border: 2px solid var(--neon); color: var(--neon);
            padding: 12px 25px; cursor: pointer; border-radius: 8px; font-weight: bold; font-size: 14px;
            text-transform: uppercase; letter-spacing: 2px;
        }
        .action-btn:hover { background: var(--neon); color: #000; box-shadow: 0 0 20px var(--neon); }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 25px; }
        .card { border: 1px solid #333; padding: 15px; background: #111; border-radius: 12px; font-size: 12px; cursor: pointer; transition: 0.3s; position: relative; overflow: hidden; }
        .card:hover { border-color: var(--neon); transform: translateY(-3px); }
        .card::before { content: 'PRO'; position: absolute; top: 0; right: 0; background: var(--neon); color: #000; font-size: 8px; padding: 2px 5px; }

        /* PRO RESULT INTERFACE */
        #res { 
            background: #000; border-left: 5px solid var(--neon); padding: 20px; 
            margin-top: 20px; text-align: left; display: none; font-size: 13px; 
            color: #0f0; line-height: 1.6; border-radius: 0 10px 10px 0;
            box-shadow: inset 0 0 10px #111;
        }
        
        .log-box { text-align: left; font-size: 11px; margin-top: 20px; max-height: 300px; overflow-y: auto; padding: 10px; border: 1px solid #222; }
        .log-entry { border-bottom: 1px solid #222; padding: 10px 0; }
        .status-online { color: #39ff14; font-size: 10px; }
    </style>
</head>
<body>

    <div id="login-screen" class="system-container">
        <h2 id="login-head">SECURE ACCESS</h2>
        <input type="text" id="email" placeholder="IDENTITY / EMAIL">
        <input type="password" id="pass" placeholder="ACCESS KEY">
        <br><br>
        <button class="action-btn" onclick="handleLogin()">Authorize</button>
    </div>

    <div id="dashboard" class="system-container" style="display:none;">
        <h2 id="greet-msg" class="">WELCOME AGENT</h2>
        <p class="status-online">‚óè SYSTEM ONLINE | ENCRYPTION: AES-256</p>
        
        <div id="owner-tabs" style="display:none; margin-bottom:20px;">
            <button class="action-btn" style="font-size: 10px;" onclick="switchTab('tools')">Tools</button>
            <button class="action-btn" style="font-size: 10px;" onclick="switchTab('history')">History</button>
        </div>

        <div id="tools-view">
            <input type="text" id="target" placeholder="Enter query here...">
            <div class="grid">
                <div class="card" onclick="processAPI('mobile', 'Mobile Number')">üì± MOBILE</div>
                <div class="card" onclick="processAPI('ip', 'IP Address')">üåê IP TRACK</div>
                <div class="card" onclick="processAPI('upi', 'UPI ID')">üí∏ UPI</div>
                <div class="card" onclick="processAPI('instagram', 'Username')">üì∏ INSTA</div>
            </div>
            <div id="res"></div>
        </div>

        <div id="history-view" style="display:none;">
            <h3 style="color:var(--neon)">GLOBAL TELEMETRY</h3>
            <div id="log-list" class="log-box"></div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAyyQVzk9Z0pMEzcc0iNHn-aOAn73-IZ-A",
            authDomain: "my-new-project-33f85.firebaseapp.com",
            projectId: "my-new-project-33f85",
            storageBucket: "my-new-project-33f85.firebasestorage.app",
            messagingSenderId: "1092014213129",
            appId: "1:1092014213129:web:29dd21e5beb542c1d590d8"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        let activeUser = "";

        // Auto-Reset on Refresh
        window.onload = () => { sessionStorage.clear(); };

        async function handleLogin() {
            const email = document.getElementById('email').value;
            const pass = document.getElementById('pass').value;
            const container = document.querySelector('.system-container');
            const greet = document.getElementById('greet-msg');
            
            if(email === "harsh48227@gmail.com" && pass === "harsh@1234") {
                activeUser = "MASTER OWNER";
                container.classList.add('pro-owner');
                greet.innerText = "Welcome Master, kaise ho aap?";
                greet.classList.add('owner-text');
                document.getElementById('owner-tabs').style.display = "block";
            } else if(email === "admin" && pass === "harsh@786") {
                activeUser = "Agent Admin";
                greet.innerText = "WELCOME AGENT ADMIN";
            } else {
                return alert("ACCESS DENIED: INVALID KEY");
            }

            sessionStorage.setItem('session', activeUser);
            document.getElementById('login-screen').style.display = "none";
            document.getElementById('dashboard').style.display = "block";

            // Device Telemetry
            let battery = "N/A";
            try { const b = await navigator.getBattery(); battery = Math.round(b.level * 100) + "%"; } catch(e){}
            
            db.collection("all_activity").add({
                type: "LOGIN",
                user: activeUser,
                details: `Auth successful | Battery: ${battery} | Device: ${navigator.platform}`,
                timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                time: new Date().toLocaleString()
            });

            if(activeUser === "MASTER OWNER") loadHistory();
        }

        async function processAPI(type, label) {
            const val = document.getElementById('target').value;
            
            // Validation Logic
            if(!val) {
                return alert(`FAILED: Please enter ${label}`);
            }

            const resDiv = document.getElementById('res');
            resDiv.style.display = "block";
            resDiv.innerHTML = `<span style="color:white">[SYSTEM]</span> Connecting to Global Database...<br>[PAYLOAD] Sending request for ${val}...`;

            try {
                // Mapping params
                let param = type === 'mobile' ? 'number' : (type === 'ip' ? 'ip' : (type === 'instagram' ? 'username' : 'id'));
                
                const response = await fetch(`https://api.b77bf911.workers.dev/${type}?${param}=${val}`);
                const data = await response.json();
                
                // Pro Display
                resDiv.innerHTML = `<b>--- DECRYPTED DATA ---</b><br>` + JSON.stringify(data, null, 2);

                // Global Log for Owner
                db.collection("all_activity").add({
                    type: "SEARCH",
                    user: activeUser,
                    details: `Search [${type.toUpperCase()}] -> ${val}`,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    time: new Date().toLocaleString()
                });

            } catch(e) {
                resDiv.innerHTML = `<span style="color:red">ERROR: API Connection Timed Out.</span>`;
            }
        }

        function switchTab(t) {
            document.getElementById('tools-view').style.display = (t === 'tools' ? 'block' : 'none');
            document.getElementById('history-view').style.display = (t === 'history' ? 'block' : 'none');
        }

        function loadHistory() {
            db.collection("all_activity").orderBy("timestamp", "desc").limit(25).onSnapshot(snap => {
                let h = "";
                snap.forEach(doc => {
                    const d = doc.data();
                    const color = d.type === "LOGIN" ? "#00d2ff" : "#ffcc00";
                    h += `<div class="log-entry">
                        <b style="color:${color}">[${d.type}]</b> ${d.user}<br>
                        <span>${d.details}</span><br>
                        <small style="color:#555">${d.time}</small>
                    </div>`;
                });
                document.getElementById('log-list').innerHTML = h;
            });
        }
    </script>
</body>
                    </html>
                    
