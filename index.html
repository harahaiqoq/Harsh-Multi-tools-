<script>
    const ADMIN_USER = "admin";
    const ADMIN_PASS = "harsh@786";
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1466314319347318941/NT-iHpONGm61Q4tfoUs9ojB8jEAJ7aG9Opzo-2G0pdb6dKkjTITZSB3Bt4NLQ6BwFnLs";

    // üîä Sound Effect ka link (Ek chota tech sound)
    const scanSound = new Audio('https://www.soundjay.com/buttons/sounds/button-20.mp3');

    async function sendDiscord(msg) {
        try {
            await fetch(WEBHOOK_URL, {
                method: 'POST',
                mode: 'no-cors', 
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ content: "üîî **SYSTEM ALERT:**\n" + msg })
            });
        } catch (e) { console.log("Discord Error"); }
    }

    function checkLogin() {
        const u = document.getElementById('user').value;
        const p = document.getElementById('pass').value;
        if (u === ADMIN_USER && p === ADMIN_PASS) {
            scanSound.play(); // Login par bhi sound
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            sendDiscord("‚úÖ Login Success by Admin!");
        } else {
            alert("Wrong Credentials!");
        }
    }

    async function run(ep, key) {
        const val = document.getElementById('inp').value;
        if(!val) return alert("Pehle target dalo!");
        
        // üéµ Sound Play karo
        scanSound.play(); 

        const res = document.getElementById('res');
        res.style.display = 'block'; 
        res.innerHTML = "üì° Scanning Secured Database...";
        
        sendDiscord("üîç Search: " + ep + " | Target: " + val);

        try {
            const response = await fetch(`https://api.b77bf911.workers.dev/${ep}?${key}=${val}`);
            const data = await response.json();
            res.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
        } catch (e) { res.innerHTML = "API Error!"; }
    }

    async function runIP() {
        const val = document.getElementById('inp').value;
        if(!val) return alert("IP dalo!");
        
        // üéµ Sound Play karo
        scanSound.play();

        const res = document.getElementById('res');
        res.style.display = 'block';
        res.innerHTML = "üåê Tracking Location...";
        
        sendDiscord("üåê Tracking IP: " + val);

        try {
            const response = await fetch(`https://ipapi.co/${val}/json/`);
            const data = await response.json();
            res.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
        } catch (e) { res.innerHTML = "IP Error!"; }
    }
</script>
