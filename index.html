<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Website | Secure</title>
    <style>
        :root { --neon: #00ffcc; --bg: #050505; }
        body { background: #111; color: white; font-family: sans-serif; text-align: center; margin: 0; padding-bottom: 100px; }
        
        /* Aapka Main Content Yahan Hoga */
        .content { padding: 50px; }

        /* Secret Admin Button at Bottom */
        .admin-footer { position: fixed; bottom: 0; width: 100%; padding: 10px; background: rgba(0,0,0,0.8); }
        .admin-btn { background: transparent; color: #444; border: 1px solid #444; padding: 5px 15px; cursor: pointer; border-radius: 5px; font-size: 12px; }
        .admin-btn:hover { color: var(--neon); border-color: var(--neon); }

        /* Login & Log Window */
        #admin-panel { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
                        background: var(--bg); border: 2px solid var(--neon); padding: 20px; border-radius: 15px; 
                        width: 90%; max-width: 400px; z-index: 1000; box-shadow: 0 0 30px rgba(0,255,204,0.3); }
        
        input { width: 90%; padding: 10px; margin: 10px 0; background: #000; border: 1px solid var(--neon); color: white; }
        .btn-main { background: var(--neon); color: black; padding: 10px; border: none; width: 95%; font-weight: bold; cursor: pointer; }
        
        #log-display { display: none; text-align: left; max-height: 300px; overflow-y: auto; font-family: monospace; font-size: 11px; }
        .log-item { border-bottom: 1px solid #333; padding: 5px; margin-top: 5px; }
        .close-btn { color: red; cursor: pointer; float: right; font-weight: bold; }
    </style>
</head>
<body>

    <div class="content">
        <h1>Welcome to My Website</h1>
        <p>Aapka normal content yahan dikhega...</p>
    </div>

    <div class="admin-footer">
        <button class="admin-btn" onclick="openAdmin()">ðŸ”’ Admin Panel</button>
    </div>

    <div id="admin-panel">
        <span class="close-btn" onclick="closeAdmin()">X</span>
        <div id="login-form">
            <h2 style="color:var(--neon)">Admin Login</h2>
            <input type="email" id="adm-user" placeholder="Email">
            <input type="password" id="adm-pass" placeholder="Password">
            <button class="btn-main" onclick="handleLogin()">Login & View Logs</button>
        </div>

        <div id="log-display">
            <h3 style="color:var(--neon)">ðŸ”´ Live Hacker Logs</h3>
            <div id="log-list">Loading...</div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyAyyQVzk9Z0pMEzcc0iNHn-aOAn73-IZ-A",
            authDomain: "my-new-project-33f85.firebaseapp.com",
            projectId: "my-new-project-33f85",
            storageBucket: "my-new-project-33f85.firebasestorage.app",
            messagingSenderId: "1092014213129",
            appId: "1:1092014213129:web:29dd21e5beb542c1d590d8"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        function openAdmin() { document.getElementById('admin-panel').style.display = 'block'; }
        function closeAdmin() { document.getElementById('admin-panel').style.display = 'none'; }

        async function handleLogin() {
            const email = document.getElementById('adm-user').value;
            const pass = document.getElementById('adm-pass').value;

            // Password Check: harsh@988
            auth.signInWithEmailAndPassword(email, pass)
            .then(() => {
                document.getElementById('login-form').style.display = 'none';
                document.getElementById('log-display').style.display = 'block';
                fetchLogs();
            })
            .catch(err => alert("Ghalat Access! Log saved."));
        }

        function fetchLogs() {
            // Firestore se logs lana
            db.collection("hacker_logs").orderBy("time", "desc").onSnapshot(snap => {
                let html = "";
                snap.forEach(doc => {
                    let d = doc.data();
                    let color = d.status === "SUCCESS" ? "#0f0" : "#f00";
                    html += `<div class="log-item">
                                <span style="color:${color}">[${d.status}]</span> ${d.time}<br>
                                <b>IP:</b> ${d.ip} | <b>Email:</b> ${d.email}
                             </div>`;
                });
                document.getElementById('log-list').innerHTML = html || "No Logs.";
            });
        }
    </script>
</body>
</html>
