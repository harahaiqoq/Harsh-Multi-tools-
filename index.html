<script>
    const ADMIN_USER = "admin";
    const ADMIN_PASS = "harsh@786";
    
    // âœ… Aapka Naya Spidey Webhook URL yahan replace kar diya hai
    const WEBHOOK_URL = "https://discord.com/api/webhooks/1466335652105818269/wbXlo0Boe3xUY9Ovq516wXrv_fDWsWqJDDhtHiY7Y9ef1FG27faFo7EidQ6VTu7RAoUs";

    // ğŸ”Š Sound Effect
    const scanSound = new Audio('https://www.soundjay.com/buttons/sounds/button-20.mp3');

    async function sendDiscord(msg) {
        try {
            await fetch(WEBHOOK_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                    content: `ğŸ•·ï¸ **SPIDEY BOT ALERT** ğŸ•¸ï¸\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n${msg}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”` 
                })
            });
            console.log("Spidey Alert Sent!");
        } catch (e) { 
            console.log("Discord Error"); 
        }
    }

    function checkLogin() {
        const u = document.getElementById('user').value;
        const p = document.getElementById('pass').value;
        if (u === ADMIN_USER && p === ADMIN_PASS) {
            scanSound.play(); 
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            sendDiscord("âœ… **Login Success**\nAdmin ne system access kar liya hai.");
        } else {
            sendDiscord(`âš ï¸ **Failed Login**\nKisi ne galat password daala: \`${u}\``);
            alert("Wrong Credentials!");
        }
    }

    async function run(ep, key) {
        const val = document.getElementById('inp').value;
        if(!val) return alert("Pehle target dalo!");
        
        scanSound.play(); 
        const res = document.getElementById('res');
        res.style.display = 'block'; 
        res.innerHTML = "ğŸ“¡ Scanning Secured Database...";
        
        sendDiscord(`ğŸ” **New Search**\nMethod: ${ep}\nTarget: \`${val}\``);

        try {
            const response = await fetch(`https://api.b77bf911.workers.dev/${ep}?${key}=${val}`);
            const data = await response.json();
            res.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
        } catch (e) { res.innerHTML = "API Error!"; }
    }

    async function runIP() {
        const val = document.getElementById('inp').value;
        if(!val) return alert("IP dalo!");
        
        scanSound.play();
        const res = document.getElementById('res');
        res.style.display = 'block';
        res.innerHTML = "ğŸŒ Tracking Location...";
        
        sendDiscord(`ğŸŒ **IP Track Request**\nTarget IP: \`${val}\``);

        try {
            const response = await fetch(`https://ipapi.co/${val}/json/`);
            const data = await response.json();
            res.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
        } catch (e) { res.innerHTML = "IP Error!"; }
    }
</script>
